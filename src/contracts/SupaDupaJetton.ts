import { Address, beginCell, Cell, contractAddress, ContractProvider, Sender } from '@ton/core';
import { JettonMaster, JettonWallet } from './base';
import { JETTON_NAME, JETTON_DESCRIPTION, JETTON_SYMBOL, ALICE } from './common';

const JETTON_MASTER_CODE: string =
  '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';
const JETTON_MASTER_SYSTEM_CELL: string =
  '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';

const JETTON_WALLET_CODE: string =
  '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';
const JETTON_WALLET_SYSTEM_CELL: string =
  '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';

export class SupaDupaJettonMaster extends JettonMaster {
  public static async create(): Promise<JettonMaster> {
    const init = {
      code: Cell.fromBase64(JETTON_MASTER_CODE),
      data: beginCell()
        .storeRef(Cell.fromBase64(JETTON_MASTER_SYSTEM_CELL))
        .storeUint(0, 1)
        .storeAddress(ALICE)
        .storeInt(0n, 257)
        .endCell(),
    };
    const address = contractAddress(0, init);

    return new SupaDupaJettonMaster(address, init);
  }

  public async sendMint(provider: ContractProvider, via: Sender, amount: bigint, address: Address) {
    const OPCODE: number = 0x133704;

    await this.send(
      provider,
      via,
      beginCell()
        .storeUint(OPCODE, 32)
        .storeUint(0, 64)
        .storeAddress(address)
        .storeCoins(amount)
        .endCell()
    );
  }

  public async sendDeploy(provider: ContractProvider, via: Sender) {
    const OPCODE: number = 0x133701;

    await this.send(
      provider,
      via,
      beginCell()
        .storeUint(OPCODE, 32)
        .storeUint(0, 64)
        .storeRef(beginCell().storeStringRefTail(JETTON_NAME).asCell())
        .storeRef(beginCell().storeStringRefTail(JETTON_DESCRIPTION).asCell())
        .storeRef(beginCell().storeStringRefTail(JETTON_SYMBOL).asCell())
        .storeCoins(100500n)
        .storeMaybeCoins(null)
        .endCell()
    );
  }

  public async wallet(owner: Address): Promise<JettonWallet> {
    return await SupaDupaJettonWallet.create(this, owner);
  }
}

export class SupaDupaJettonWallet extends JettonWallet {
  public static async create(master: JettonMaster, owner: Address): Promise<JettonWallet> {
    const init = {
      code: Cell.fromBase64(JETTON_WALLET_CODE),
      data: beginCell()
        .storeRef(Cell.fromBase64(JETTON_WALLET_SYSTEM_CELL))
        .storeUint(0, 1)
        .storeAddress(master.address)
        .storeAddress(owner)
        .endCell(),
    };
    const address = contractAddress(0, init);

    return new SupaDupaJettonWallet(address, init);
  }
}
